#ACESSAR PORTAL AZURE
#ACESSAR CRIAR RECURSO
#BANCO DE DADOS
#SELECIONAR ASSINATURA - NO CASO AGORA (30/04) é learn-e61e7ece-e75a-4e83-87c4-90d7d00effd5
#DEFINIR NOME PARA O BANCO - NO CASO SERÁ DBARTUR1
#SELECIONAR SERVIDOR 
	#CRIAR NOVO
	#NOME -srvdbartur1 (tem que ser com letras minúsculas)
	#LOGON - artur
	#SENHA - Sql@teste1
	#REGIÃO - centro sul eua
#PERMITIR QUE OS SERVIÇOS DO AZURE ACESSE O SERVIDOR
#COMPUTAÇÃO + ARMAZENAMENTO - SELECIONAR CONFORME NECESSIDADE
#DEFINIR FIREWALL - PERMITIR QUE OS SERVIÇOS DO AZURE ACESSE O SERVIDOR + ADICIONAR IP
#OBTER INFORMAÇÕES SOBRE O BANCO DE DADOS
	#VERIFICAR SE ELE ESTÁ ONLINE
	az configure --defaults group=learn-e61e7ece-e75a-4e83-87c4-90d7d00effd5 sql-server=srvdbartur1
	#VERIFICAR A LISTA DE BANCO DE DADOS SQL
	az sql db list #FORMATO JSON
	# NOVA CONSULTA COM SAIDA EM JQ
	az sql db list | jq '[.[] | {name: .name}]'
	#PARA OBTER DADOS SOBRE UM SQL ESPECÍFICO , DEVE INFORMAR O NOME DELE
	az sql db show --name DBARTUR1 (no nosso caso aqui pesquisamos pelo nome que foi anteriormente criado) -> saida JSON
#CONECTAR-SE AO BANCO DE DADOS
	#OBTER CADEIA DE CONEXÃO
	az sql db show-connection-string --client sqlcmd --name DBARTUR1
		#OUTPUT = sqlcmd -S tcp:srvdbartur1.database.windows.net,1433 -d DBARTUR1 -U artur -P 'Sql@teste1' -N -l 30
	********EXEMPLO********
	#CRIAR TABELA
	CREATE TABLE Drivers (DriverID int, LastName varchar(255), FirstName varchar(255), OriginCity varchar(255));
	GO
	#INSERIR DADO NA PLANILHA
	INSERT INTO Drivers (DriverID, LastName, FirstName, OriginCity) VALUES (123, 'Zirne', 'Laura', 'Springfield');
	GO
	#PARA LISTAR AS COLUNAS E TODAS AS LINHAS DA TABELA UTILIZE O SEGUINTE COMANDO T-SQL
	SELECT 'NOMEDACOLUNAINICIAL','COLUNAFINAL' FROM 'NOMEDATABELA'
	SELECT DriverID, OriginCity FROM Drivers;
	GO
	#PARA ALTERAR DADOS NA TABELA
	UPDATE 'NOMETABELA' SET 'NOMECOLUNA='NOVOTEXTO/DADO' WHERE 'COLUNA2='NOVOTEXTO/DADO'
	UPDATE Drivers SET OriginCity='Boston' WHERE DriverID=123;
	GO
	#PARA EXCLUIR UM REGISTRO
	DELETE FROM 'NOMETABELA' WHERE 'NOMECOLUNA='TEXTO/DADO'='ALGUMACOISA';
	DELETE FROM Drivers WHERE DriverID=123;
	GO
